<!DOCTYPE html>
<html lang="ko">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>scroll-active</title>

		<link rel="stylesheet" href="./css/scroll-active.css" />
	</head>
	<body>
		<div class="all_wrap">
			<section id="home">
				<header>
					<div>
						<a href="#">LOGO</a>
					</div>
					<ul>
						<li class="home active">home</li>
						<li class="content1">content1</li>
						<li class="content2">content2</li>
						<li class="content3">content3</li>
					</ul>
				</header>
				<h2>home</h2>
			</section>
			<section id="content1">
				<h2>Content1</h2>
			</section>
			<section id="content2">
				<h2>Content2</h2>
			</section>
			<section id="content3">
				<h2>Content3</h2>
			</section>
		</div>

		<script>
			// HTML section Element id 요소를 가져온다.
			const sectionAll = document.querySelectorAll("section[id]");

			// javascript scroll api 사용
			window.addEventListener("scroll", () => {
				const scrollY = window.pageYOffset;

				sectionAll.forEach((current) => {
					const sectionHeight = current.offsetHeight;
					const sectionTop = current.offsetTop - 50;
					const sectionId = current.getAttribute("id");

					if (scrollY > sectionTop && scrollY < sectionTop + sectionHeight) {
						document.querySelector(`.${sectionId}`).classList.add("active");
					} else {
						document.querySelector(`.${sectionId}`).classList.remove("active");
					}
				});
			});
		</script>
	</body>
</html>
